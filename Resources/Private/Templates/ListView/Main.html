<!--
 * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo and TYPO3 projects.
 *
 * @license GNU General Public License version 3 or later.
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
-->

<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:v="http://typo3.org/ns/vhs/ViewHelpers">

<div class="tx-dlf-listview">

    <h2 class="tx-dlf-listview-label"><f:format.raw>{documentList.metadata.label}</f:format.raw></h2>

    <div class="tx-dlf-listview-thumbnail">
        <f:if condition="{documentList.thumbnail}">
            <img alt="" title="{documentList.label -> f:format.htmlspecialchars()}" src="{documentList.thumbnail}" />';
        </f:if>
    </div>

    <f:if condition="{documentList.metadata.options.source} == 'search'">
        <p class="tx-dlf-search-numHits">
            <f:format.htmlSpecialChars>
                <f:translate
                    key="listview.hits"
                    arguments="{0:documentList.metadata.options.numberOfHits, 1:documentList.metadata.options.numberOfToplevelHits}"
                />
            </f:format.htmlSpecialChars>
        </p>
    </f:if>

    <p class="tx-dlf-listview-counts">
        <f:if condition="{currentEntry}">
            <f:then>
                <v:variable.set
                    name="toEntry"
                    value="{f:if(condition:'{lastEntry} < {documentList.metadata.options.numberOfToplevelHits}',then:'{lastEntry}',else:'{documentList.metadata.options.numberOfToplevelHits}')}"
                />
                <f:translate
                    key="listview.count"
                    arguments="{
                       0: currentEntry,
                       1: toEntry,
                       2: documentList.metadata.options.numberOfToplevelHits
                    }"
                />
            </f:then>
            <f:else>
                <f:translate key="listview.nohits" />
            </f:else>
        </f:if>
    </p>

    <f:render partial="ListView/SortingForm" arguments="{_all}" />

    <f:render partial="ListView/PageBrowser" arguments="{_all}" />

    <ol class="tx-dlf-listview-list">
        <f:render partial="ListView/Entries" arguments="{_all}" />
    </ol>

</div>
