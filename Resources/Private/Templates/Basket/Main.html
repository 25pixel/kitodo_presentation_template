<!--
 * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo and TYPO3 projects.
 *
 * @license GNU General Public License version 3 or later.
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
-->
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">

<h2 class="tx-dlf-basket-label">
    <f:translate key="LLL:EXT:dlf/Resources/Private/Language/Basket.xml:basket"/>
</h2>
<p class="tx-dlf-basket-counts">
    {count}
</p>
<f:form pageUid="{settings.targetBasket}" action="basket" fieldNamePrefix="tx_dlf">
    <ol class="tx-dlf-basket-list">
        <f:for each="{entries}" as="entry">
            <li value="{entry.NUMBER}">
                <dl>
                    <dt>
                        <f:link.typolink parameter="{entry.BASKETDATA.downloadUrl}">
                            {entry.BASKETDATA.title}
                        </f:link.typolink>
                        <f:if condition="{entry.BASKETDATA.info}">
                            <f:then>
                                ({entry.BASKETDATA.info})
                            </f:then>
                        </f:if>
                    </dt>
                    <dd>
                        <div>
                            <f:form.checkbox name="selected[{entry.key}][id]" value="{entry.id}" />
                            <f:for each="{entry.CONTROLS}" as="controlField" key="controlKey">
                                <f:form.hidden name="selected[{entry.key}][{controlKey}]" value="{controlField}" />
                            </f:for>
                        </div>
                    </dd>
                </dl>
            </li>
        </f:for>
    </ol>
    <div>
        <div>
            <f:form.select name="basket_action"
                options="{0: '{f:translate(key: \'LLL:EXT:dlf/Resources/Private/Language/Basket.xml:chooseAction\')}',
                'download': '{f:translate(key: \'LLL:EXT:dlf/Resources/Private/Language/Basket.xml:download\')}',
                'remove': '{f:translate(key: \'LLL:EXT:dlf/Resources/Private/Language/Basket.xml:remove\')}'}" />
        </div>
        <div>
            <f:form.select options="{mailSelect}" name="mail_action"/>
        </div>
        <div>
            <f:form.select options="{printSelect}" name="print_action"/>
        </div>
        <f:form.submit value="Send"/>
    </div>
</f:form>

<f:format.raw>
    {pregenerateJs}
</f:format.raw>

<f:if condition="{settings.basketGoToButton}">
    <f:then>
        <div class="tx-dlf-goto-basket">
            <f:link.typolink parameter="{goToBasketUri}">
                <f:translate key="LLL:EXT:dlf/Resources/Private/Language/Basket.xml:goBasket"/>
            </f:link.typolink>
        </div>
    </f:then>
</f:if>

</html>