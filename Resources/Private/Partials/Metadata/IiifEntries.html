<f:comment>
    <!--
     * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>
     *
     * This file is part of the Kitodo and TYPO3 projects.
     *
     * @license GNU General Public License version 3 or later.
     * For the full copyright and license information, please read the
     * LICENSE.txt file that was distributed with this source code.
    -->
</f:comment>
<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:adm="http://typo3.org/ns/TYPO3/CMS/Adminpanel/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:for each="{iiifData}" as="data" key="key">
    <f:if condition="{data.data} && {adm:isArray(value: '{data.data}')}">
        <f:then>
            <f:for each="{data.data}" as="subData" iteration="subIterator">
                <f:if condition="{subIterator.isFirst}">
                    <f:then>
                        <span>
                            <f:translate key="{key}" />
                        </span>
                    </f:then>
                </f:if>
                <f:variable name="buildUrl" value="{subData.buildUrl}"/>
                <f:variable name="entryData" value="{subData}"/>
                <f:render partial="Metadata/IiifEntry" arguments="{_all}"/>
            </f:for>
        </f:then>
        <f:else>
            <f:variable name="buildUrl" value="{data.buildUrl}"/>
            <f:variable name="entryData" value="{data}"/>
            <f:render partial="Metadata/IiifEntry" arguments="{_all}"/>
        </f:else>
    </f:if>
</f:for>
